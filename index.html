<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>AWS Master Locked</title>
<style>
  /* --- åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« (å‰å›ã¨åŒã˜) --- */
  :root { --primary: #7b1fa2; --bg: #f0f2f5; --text: #333; --correct: #2e7d32; --wrong: #c62828; --accent: #ff9800; }
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; }
  .app-container { max-width: 800px; margin: 0 auto; width: 100%; height: 100%; display: flex; flex-direction: column; background: white; box-shadow: 0 0 20px rgba(0,0,0,0.05); position: relative; }
  .screen { display: none; flex: 1; flex-direction: column; padding: 20px; overflow-y: auto; -webkit-overflow-scrolling: touch; }
  .screen.active { display: flex; animation: fadeIn 0.3s ease-out; }
  .app-header { background: white; padding: 12px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; z-index: 10; flex-shrink: 0; }
  .logo { font-weight: bold; font-size: 18px; color: var(--primary); display: flex; align-items: center; gap: 8px; }
  .btn-quit { font-size: 12px; color: #666; background: #f5f5f5; padding: 8px 16px; border-radius: 20px; cursor: pointer; border: none; font-weight: bold; }
  .home-content { flex: 1; display: flex; flex-direction: column; justify-content: center; }
  .home-title { font-size: clamp(20px, 5vw, 28px); margin-bottom: 10px; text-align: center; }
  .home-subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 14px; }
  .course-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding-bottom: 20px; }
  .course-card { background: #fff; border: 2px solid #e0e0e0; border-radius: 16px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 110px; user-select: none; }
  .course-card:active { transform: scale(0.96); background: #fafafa; }
  .course-icon { font-size: 32px; margin-bottom: 8px; }
  .course-name { font-weight: bold; font-size: 16px; margin-bottom: 4px; }
  .course-desc { font-size: 11px; color: #888; line-height: 1.4; }
  .progress-header { margin-bottom: 15px; flex-shrink: 0; }
  .progress-bar-bg { width: 100%; height: 6px; background: #f0f0f0; border-radius: 3px; overflow: hidden; }
  .progress-bar-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
  .stats-row { display: flex; justify-content: space-between; margin-top: 6px; font-size: 12px; color: #666; font-weight: bold; }
  .genre-tag { display: inline-block; background: #ede7f6; color: var(--primary); padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: bold; margin-bottom: 10px; }
  .question-box { font-size: clamp(16px, 4vw, 19px); line-height: 1.6; font-weight: 600; margin-bottom: 20px; padding: 15px; background: #fafafa; border-left: 5px solid var(--primary); border-radius: 8px; }
  .option-btn { background: white; border: 2px solid #e0e0e0; border-radius: 12px; padding: 15px; margin-bottom: 12px; text-align: left; font-size: 15px; cursor: pointer; position: relative; transition: all 0.1s; line-height: 1.4; user-select: none; -webkit-tap-highlight-color: transparent; }
  .option-btn:active { transform: scale(0.98); background: #f5f5f5; border-color: #ccc; }
  .option-btn.correct { border-color: var(--correct); background: #e8f5e9; color: #1b5e20; font-weight: bold; }
  .option-btn.wrong { border-color: var(--wrong); background: #ffebee; opacity: 0.7; }
  .feedback-box { margin-top: 15px; padding: 15px; background: #f1f8e9; border-radius: 12px; border: 1px solid #c8e6c9; display: none; animation: slideUp 0.3s; margin-bottom: 80px; }
  .feedback-title { font-weight: bold; color: var(--correct); display: block; margin-bottom: 8px; font-size: 16px; }
  .quiz-footer { margin-top: auto; padding: 15px 0 0 0; text-align: center; position: sticky; bottom: 0; background: linear-gradient(to top, white 80%, rgba(255,255,255,0)); padding-bottom: 20px; }
  .btn-primary { background: var(--primary); color: white; border: none; padding: 16px 0; border-radius: 30px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 12px rgba(123, 31, 162, 0.3); width: 100%; max-width: 400px; transition: transform 0.1s; }
  .btn-primary:active { transform: scale(0.97); }
  .result-header { text-align: center; margin-bottom: 30px; margin-top: 20px; }
  .score-circle { width: 130px; height: 130px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 36px; font-weight: bold; margin: 0 auto 15px; box-shadow: 0 8px 20px rgba(123, 31, 162, 0.3); }
  .graph-container { margin-bottom: 30px; padding: 20px; background: #fff; border-radius: 12px; border: 1px solid #eee; }
  .graph-bar-bg { height: 24px; background: #f5f5f5; border-radius: 12px; overflow: hidden; position: relative; margin-top: 5px; }
  .graph-bar-fill { height: 100%; background: linear-gradient(90deg, #7b1fa2, #ab47bc); width: 0%; transition: width 1s ease-out; }
  .graph-text { position: absolute; width: 100%; text-align: center; top: 0; line-height: 24px; font-size: 12px; color: white; font-weight: bold; text-shadow: 0 0 2px rgba(0,0,0,0.5); }
  .review-item { background: #fff; border: 1px solid #ffcdd2; border-left: 5px solid var(--wrong); padding: 15px; border-radius: 8px; margin-bottom: 12px; font-size: 14px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
  .hidden { display: none !important; }
  @media (max-width: 600px) { .app-container { border-radius: 0; max-width: 100%; } .course-grid { grid-template-columns: 1fr; gap: 12px; } .course-card { flex-direction: row; justify-content: flex-start; text-align: left; min-height: 80px; padding: 15px 20px; } .course-icon { margin-bottom: 0; margin-right: 15px; font-size: 28px; } .question-box { font-size: 16px; padding: 12px; } .option-btn { font-size: 14px; padding: 14px; } .screen { padding: 15px; } .app-header { padding: 10px 15px; } }

  /* --- ğŸ”’ ãƒ­ãƒƒã‚¯ç”»é¢ç”¨ã®è¿½åŠ ã‚¹ã‚¿ã‚¤ãƒ« --- */
  #lockOverlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #f8f9fa; z-index: 9999;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 20px; box-sizing: border-box;
  }
  .lock-box {
    background: white; padding: 40px 30px; border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 320px;
    text-align: center;
  }
  .lock-icon { font-size: 50px; margin-bottom: 20px; display: block; }
  .lock-input {
    width: 100%; padding: 15px; font-size: 18px; border: 2px solid #ddd;
    border-radius: 12px; margin-bottom: 20px; text-align: center; box-sizing: border-box;
    outline: none; transition: 0.2s;
  }
  .lock-input:focus { border-color: var(--primary); }
  .lock-btn {
    width: 100%; padding: 15px; background: var(--primary); color: white;
    border: none; border-radius: 30px; font-weight: bold; font-size: 16px; cursor: pointer;
  }
  .lock-error { color: var(--wrong); font-size: 14px; margin-top: 15px; display: none; }
</style>
</head>
<body>

<div id="lockOverlay">
  <div class="lock-box">
    <div class="lock-icon">ğŸ”’</div>
    <h2 style="margin:0 0 20px 0; color:#333;">Enter Password</h2>
    <input type="password" id="passInput" class="lock-input" placeholder="Passcode" maxlength="8">
    <button class="lock-btn" onclick="checkPass()">Unlock</button>
    <div id="lockError" class="lock-error">Passcode is incorrect</div>
  </div>
</div>

<div class="app-container">
  
  <header class="app-header">
    <div class="logo">â˜ï¸ AWS Master</div>
    <button id="quitBtn" class="btn-quit hidden" onclick="confirmQuit()">ä¸­æ–­</button>
  </header>

  <div id="homeScreen" class="screen active">
    <div class="home-content">
      <h1 class="home-title">å­¦ç¿’ã‚³ãƒ¼ã‚¹ã‚’é¸æŠ</h1>
      <p class="home-subtitle">å…¨67é …ç›®ã®AWSãƒŠãƒ¬ãƒƒã‚¸ã‚’ç¿’å¾—ã—ã‚ˆã†</p>
      
      <div class="course-grid">
        <div class="course-card" onclick="startCourse('short')">
          <div class="course-icon">âš¡</div>
          <div><div class="course-name">15å• ã‚µã‚¯ãƒƒã¨</div><div class="course-desc">éš™é–“æ™‚é–“ã«æœ€é©</div></div>
        </div>
        <div class="course-card" onclick="startCourse('mock')">
          <div class="course-icon">ğŸ“</div>
          <div><div class="course-name">æ¨¡æ“¬è©¦é¨“</div><div class="course-desc">ãƒ©ãƒ³ãƒ€ãƒ 30å•</div></div>
        </div>
        <div class="course-card" onclick="startCourse('all')">
          <div class="course-icon">ğŸ“š</div>
          <div><div class="course-name">å…¨å•åˆ¶è¦‡</div><div class="course-desc">å…¨67å•ã«æŒ‘æˆ¦</div></div>
        </div>
        <div class="course-card" style="border-color:var(--accent);" onclick="startCourse('endless')">
          <div class="course-icon">â™¾ï¸</div>
          <div><div class="course-name">ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹</div><div class="course-desc">ç„¡é™ã«å‡ºé¡Œ</div></div>
        </div>
      </div>
    </div>
  </div>

  <div id="quizScreen" class="screen">
    <div class="progress-header">
      <div class="progress-bar-bg"><div id="progressBar" class="progress-bar-fill"></div></div>
      <div class="stats-row"><span id="questionCount">Q. 1</span><span id="scorePreview">Score: 0</span></div>
    </div>
    <div id="quizContent">
      <span id="genreTag" class="genre-tag">Genre</span>
      <div id="questionText" class="question-box"></div>
      <div id="optionsList"></div>
    </div>
    <div id="feedbackArea" class="feedback-box">
      <span class="feedback-title"></span>
      <div id="feedbackDetail" style="font-size:14px; line-height:1.6;"></div>
    </div>
    <div class="quiz-footer">
      <button id="nextBtn" class="btn-primary hidden" onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
      <button id="finishBtn" class="btn-primary hidden" style="background:var(--wrong);" onclick="finishQuiz()">çµæœã‚’è¦‹ã‚‹</button>
    </div>
  </div>

  <div id="resultScreen" class="screen">
    <div class="result-header">
      <div class="score-circle"><span id="finalScore">0</span><span style="font-size:16px;">%</span></div>
      <h2 id="resultMessage">Result</h2>
    </div>
    <div class="graph-container">
      <div style="margin-bottom:5px; font-size:12px; color:#666;">æ­£è§£ç‡</div>
      <div class="graph-bar-bg"><div id="resultGraph" class="graph-bar-fill"></div><div id="resultGraphText" class="graph-text"></div></div>
    </div>
    <div id="reviewSection" class="review-section hidden">
      <div style="font-size:18px; font-weight:bold; margin-bottom:15px;">âš ï¸ é–“é•ãˆãŸå•é¡Œ</div>
      <div id="reviewList"></div>
    </div>
    <div class="quiz-footer" style="background:none;">
      <button class="btn-primary" onclick="goHome()">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
    </div>
  </div>

</div>

<script>
// â–¼â–¼â–¼ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚¨ãƒªã‚¢ â–¼â–¼â–¼
// å¥½ããªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«å¤‰æ›´ã—ã¦ãã ã•ã„
const APP_PASSWORD = "1234";

function checkPass() {
  const input = document.getElementById('passInput').value;
  const errorMsg = document.getElementById('lockError');
  
  if (input === APP_PASSWORD) {
    // æ­£è§£: ãƒ­ãƒƒã‚¯ç”»é¢ã‚’æ¶ˆã™
    document.getElementById('lockOverlay').style.display = 'none';
  } else {
    // ä¸æ­£è§£
    errorMsg.style.display = 'block';
    // ãƒ–ãƒ«ãƒ–ãƒ«éœ‡ãˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    const box = document.querySelector('.lock-box');
    box.animate([
      { transform: 'translateX(0)' },
      { transform: 'translateX(-10px)' },
      { transform: 'translateX(10px)' },
      { transform: 'translateX(0)' }
    ], { duration: 200 });
  }
}
// Enterã‚­ãƒ¼ã§ã‚‚ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
document.getElementById('passInput').addEventListener('keypress', function (e) {
    if (e.key === 'Enter') { checkPass(); }
});
// â–²â–²â–² ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å‡¦ç†ã“ã“ã¾ã§ â–²â–²â–²

// â–¼â–¼â–¼ å…¨ãƒ‡ãƒ¼ã‚¿ â–¼â–¼â–¼
const fullQuizData = [
  {id:1, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"EC2 ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹", features:"æœ€å¤§90%OFFãƒ»ä¸­æ–­ãƒªã‚¹ã‚¯ã‚ã‚Š", scenario:"çµ‚äº†ã—ã¦ã‚‚å•é¡Œãªã„ãƒãƒƒãƒå‡¦ç†ã‚„ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ãªã‚³ãƒ³ãƒ†ãƒŠå‡¦ç†ã€‚", solution:"ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚³ã‚¹ãƒˆã‚’æœ€å°åŒ–ã™ã‚‹ã€‚", antipattern:"RDSï¼ˆãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ãƒªã‚¹ã‚¯ï¼‰ã€Webã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ä¸å¯ï¼‰ã€‚"},
  {id:2, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"S3 Intelligent-Tiering", features:"é »åº¦ã«å¿œã˜ã¦æ–™é‡‘ã‚¯ãƒ©ã‚¹è‡ªå‹•ç§»å‹•", scenario:"ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒäºˆæ¸¬ä¸èƒ½ãªãƒ‡ãƒ¼ã‚¿ã®ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã€‚", solution:"ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°æ–™é‡‘ãªã—ã§ã€é »ç¹ãƒ»éé »ç¹ã‚¢ã‚¯ã‚»ã‚¹å±¤ã‚’è‡ªå‹•ã§è¡Œãæ¥ã™ã‚‹ã€‚", antipattern:"S3 Standardï¼ˆé«˜ã„ã¾ã¾ï¼‰ã€Glacierï¼ˆå–ã‚Šå‡ºã—æ™‚é–“ãŒé•·ã„ï¼‰ã€‚"},
  {id:3, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Aurora Serverless v2", features:"è² è·ã«å¿œã˜ã¦ç¬æ™‚ã«è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«", scenario:"äºˆæ¸¬ä¸èƒ½ãªã‚¹ãƒ‘ã‚¤ã‚¯ãŒç™ºç”Ÿã™ã‚‹DBãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã€‚", solution:"ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚µã‚¤ã‚ºç®¡ç†ä¸è¦ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã«å¿œã˜ã¦è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹ã€‚", antipattern:"Provisioned IOPSï¼ˆå›ºå®šè²»ãŒã‹ã‹ã‚‹ï¼‰ã€DynamoDBï¼ˆRDBãŒå¿…è¦ãªå ´åˆï¼‰ã€‚"},
  {id:4, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"AWS Global Accelerator", features:"é™çš„IPæä¾›ãƒ»AWSå›ç·šã§é«˜é€ŸåŒ–", scenario:"ä¸–ç•Œä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦UDPã‚²ãƒ¼ãƒ ã‚„VoIPã®é…å»¶ã‚’æ¸›ã‚‰ã—ãŸã„ã€‚", solution:"ã‚¨ãƒƒã‚¸ã‹ã‚‰AWSå°‚ç”¨ç·šã«å…¥ã‚Šã€ãƒ‘ã‚±ãƒƒãƒˆãƒ­ã‚¹ã¨ã‚¸ãƒƒã‚¿ãƒ¼ã‚’æœ€å°åŒ–ã™ã‚‹ã€‚", antipattern:"CloudFrontï¼ˆHTTPã‚­ãƒ£ãƒƒã‚·ãƒ¥å‘ã‘ã§ã‚ã‚ŠUDPé«˜é€ŸåŒ–ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:5, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"AWS WAF", features:"L7é˜²å¾¡ãƒ»SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–", scenario:"Webã‚µã‚¤ãƒˆã¸ã®XSSã‚„SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒã‚’é˜²ããŸã„ã€‚", solution:"ALB/CloudFront/API Gatewayã«é©ç”¨ã—ã€æ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã€‚", antipattern:"Security Groupï¼ˆIP/Portã®ã¿ï¼‰ã€Network ACLï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ï¼‰ã€‚"},
  {id:6, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Amazon SQS", features:"å®Œå…¨ãƒãƒãƒ¼ã‚¸ãƒ‰ãƒ»ã‚·ã‚¹ãƒ†ãƒ ã®ç–çµåˆåŒ–", scenario:"ãƒ”ãƒ¼ã‚¯æ™‚ã«DBãŒãƒ€ã‚¦ãƒ³ã—ã¦ã‚‚æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’å¤±ã‚ãªã„ã‚ˆã†ã«ã—ãŸã„ã€‚", solution:"ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ¥ãƒ¼ã«ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã—ã€å¾Œç¶šãŒå¾©æ—§æ¬¡ç¬¬å‡¦ç†ã™ã‚‹ã€‚", antipattern:"Amazon SNSï¼ˆå³æ™‚é…ä¿¡ã®ãŸã‚ç›¸æ‰‹ãŒãƒ€ã‚¦ãƒ³ã—ã¦ã‚‹ã¨å±Šã‹ãªã„ï¼‰ã€‚"},
  {id:7, genre:"ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", service:"AWS Organizations + SCP", features:"ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ»ç¦æ­¢æ¨©é™ã®ä¸€æ‹¬é©ç”¨", scenario:"100å€‹ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ç‰¹å®šã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ä½¿ç”¨ã‚’ä¸€å¾‹ç¦æ­¢ã—ãŸã„ã€‚", solution:"SCP (Service Control Policy) ã‚’OUã«é©ç”¨ã—åˆ¶é™ã‚’ç¶™æ‰¿ã•ã›ã‚‹ã€‚", antipattern:"IAM Policyï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã®è¨­å®šãŒå¿…è¦ã§ç®¡ç†ä¸èƒ½ï¼‰ã€‚"},
  {id:8, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"FSx for Windows File Server", features:"Windowsãƒã‚¤ãƒ†ã‚£ãƒ–å…±æœ‰ãƒ»ADé€£æº", scenario:"Windows EC2é–“ã§SMBå…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ©ç”¨ã—ãŸã„ã€‚", solution:"å®Œå…¨ãƒãƒãƒ¼ã‚¸ãƒ‰ãªWindowsãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’æä¾›ã—ADèªè¨¼ã‚’è¡Œã†ã€‚", antipattern:"Amazon EFSï¼ˆLinux/NFSç”¨ï¼‰ã€S3ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:9, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Amazon RDS Proxy", features:"DBæ¥ç¶šãƒ—ãƒ¼ãƒ«ãƒ»Lambdaæ¯æ¸‡å¯¾ç­–", scenario:"Lambdaã‹ã‚‰ã®å¤§é‡åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ã§RDSãŒæ¥ç¶šã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚", solution:"ProxyãŒæ¥ç¶šã‚’ãƒ—ãƒ¼ãƒ«ï¼ˆä½¿ã„å›ã—ï¼‰ã—ã€DBã¸ã®è² è·ã‚’æŠ‘ãˆã‚‹ã€‚", antipattern:"Read Replicaï¼ˆæ¥ç¶šæ•°å¯¾ç­–ã§ã¯ãªã„ï¼‰ã€ElastiCacheï¼ˆæ›¸ãè¾¼ã¿å¯¾ç­–ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:10, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"VPC Gateway Endpoint", features:"S3/DynamoDBã¸ã®é–‰åŸŸæ¥ç¶šãƒ»ç„¡æ–™", scenario:"VPCã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å‡ºãšã«S3ã¸å¤§é‡ãƒ‡ãƒ¼ã‚¿ã‚’é€ã‚ŠãŸã„ã€‚", solution:"ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤å‹ã‚’ä½¿ã„ã€NAT Gatewayã‚’çµŒç”±ã›ãšã‚³ã‚¹ãƒˆã‚¼ãƒ­ã§é€šä¿¡ã™ã‚‹ã€‚", antipattern:"Interface Endpointï¼ˆæœ‰æ–™ï¼‰ã€NAT Gatewayï¼ˆé«˜é¡ãªè»¢é€é‡ï¼‰ã€‚"},
  {id:11, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"AWS Fargate", features:"ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚³ãƒ³ãƒ†ãƒŠãƒ»ç®¡ç†ä¸è¦", scenario:"ã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã—ãŸã„ãŒOSãƒ‘ãƒƒãƒã‚„ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ã‚’ã—ãŸããªã„ã€‚", solution:"ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿè¡Œã§ãã€ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ãŒä¸è¦ã«ãªã‚‹ã€‚", antipattern:"EC2èµ·å‹•ã‚¿ã‚¤ãƒ—ï¼ˆOSç®¡ç†ãŒå¿…è¦ï¼‰ã€Lambdaï¼ˆ15åˆ†åˆ¶é™ã‚ã‚Šï¼‰ã€‚"},
  {id:12, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"S3 Object Lock (Compliance)", features:"WORMæ©Ÿèƒ½ãƒ»ãƒ«ãƒ¼ãƒˆã§ã‚‚å‰Šé™¤ä¸å¯", scenario:"æ³•è¦åˆ¶ã«ã‚ˆã‚Šãƒ‡ãƒ¼ã‚¿ã‚’7å¹´é–“çµ¶å¯¾ã«å‰Šé™¤ãƒ»å¤‰æ›´ã§ããªã„ã‚ˆã†ã«ã—ãŸã„ã€‚", solution:"ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã€ãƒ«ãƒ¼ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã™ã‚‰å‰Šé™¤ä¸å¯ã«ã™ã‚‹ã€‚", antipattern:"ã‚¬ãƒãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¨©é™ãŒã‚ã‚Œã°å‰Šé™¤å¯ï¼‰ã€IAMãƒãƒªã‚·ãƒ¼ï¼ˆæ›¸ãæ›ãˆå¯ï¼‰ã€‚"},
  {id:13, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"AWS Shield Advanced", features:"DDoSä¿è­·ãƒ»ã‚³ã‚¹ãƒˆä¿é™º", scenario:"å¤§è¦æ¨¡ãªDDoSæ”»æ’ƒã‹ã‚‰ä¿è­·ã—ã€æ”»æ’ƒã«ã‚ˆã‚‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è²»ç”¨ã‚’å…é™¤ã—ãŸã„ã€‚", solution:"L3/L4/L7ã®ä¿è­·ã«åŠ ãˆã€DDoSå¯¾å¿œãƒãƒ¼ãƒ (DRT)ã®ã‚µãƒãƒ¼ãƒˆã¨ã‚³ã‚¹ãƒˆä¿è­·ãŒä»˜ãã€‚", antipattern:"Shield Standardï¼ˆç„¡æ–™ç‰ˆãƒ»ã‚³ã‚¹ãƒˆä¿è­·ãªã—ï¼‰ã€WAFï¼ˆDDoSã®è¦æ¨¡ã«ã¯å¯¾å¿œä¸å¯ï¼‰ã€‚"},
  {id:14, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"DynamoDB (On-Demand)", features:"NoSQLãƒ»ã‚¹ãƒ‘ã‚¤ã‚¯å¯¾å¿œãƒ»ç®¡ç†ä¸è¦", scenario:"ã‚¢ã‚¯ã‚»ã‚¹æ•°ãŒå…¨ãèª­ã‚ãªã„ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚µã‚¤ãƒˆã®DBã€‚", solution:"ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ãªã‚‰äº‹å‰ã®å®¹é‡è¨­è¨ˆä¸è¦ã§ã‚¹ãƒ‘ã‚¤ã‚¯ã«å¯¾å¿œã§ãã‚‹ã€‚", antipattern:"Auroraï¼ˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«æ™‚é–“ãŒã‹ã‹ã‚‹ï¼‰ã€RDSï¼ˆå®¹é‡å›ºå®šï¼‰ã€‚"},
  {id:15, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"CloudFront + S3 (OAC)", features:"é™çš„ã‚µã‚¤ãƒˆé…ä¿¡ãƒ»ã‚ªãƒªã‚¸ãƒ³ä¿è­·", scenario:"S3ã®Webã‚µã‚¤ãƒˆã‚’é«˜é€Ÿé…ä¿¡ã—ã¤ã¤ã€S3ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç¦æ­¢ã—ãŸã„ã€‚", solution:"OAC (Origin Access Control) ã‚’ä½¿ã„ã€CloudFrontçµŒç”±ã®ã¿è¨±å¯ã™ã‚‹ã€‚", antipattern:"S3 Web Hostingï¼ˆWAFä¸å¯ãƒ»ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒç”˜ã„ï¼‰ã€‚"},
  {id:16, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Amazon EventBridge", features:"ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ»SaaSé€£æº", scenario:"ã€Œãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚‰ã€ãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆã§åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ãŸã„ã€‚", solution:"ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã€æ§˜ã€…ãªAWSã‚µãƒ¼ãƒ“ã‚¹ã‚„SaaSã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’èµ·å‹•ã™ã‚‹ã€‚", antipattern:"CloudWatch Alarmsï¼ˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ç”¨ï¼‰ã€SNSï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå¼±ã„ï¼‰ã€‚"},
  {id:17, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"Lambda + API Gateway", features:"ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹APIãƒ»ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°", scenario:"ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ãªã—ã§REST APIã‚’æ§‹ç¯‰ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ã¿èª²é‡‘ã—ãŸã„ã€‚", solution:"API Gatewayã§å—ã‘ä»˜ã‘Lambdaã§å‡¦ç†ã™ã‚‹å®Œå…¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ§‹æˆã€‚", antipattern:"ALB + EC2ï¼ˆå¸¸æ™‚ç¨¼åƒã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ï¼‰ã€‚"},
  {id:18, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"AWS Secrets Manager", features:"èªè¨¼æƒ…å ±ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³", scenario:"DBã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å®šæœŸçš„ã«è‡ªå‹•å¤‰æ›´ã—ã€ã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã¿ãŸããªã„ã€‚", solution:"RDSã¨é€£æºã—ã¦ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã€ã‚¢ãƒ—ãƒªã¯APIã§å–å¾—ã™ã‚‹ã€‚", antipattern:"Systems Manager Parameter Storeï¼ˆè‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãªã—ï¼‰ã€‚"},
  {id:19, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"Amazon EFS", features:"Linuxå…±æœ‰ãƒ»è‡ªå‹•æ‹¡å¼µ", scenario:"è¤‡æ•°ã®Linux EC2ã§Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç½®ãå ´ã‚’å…±æœ‰ã—ãŸã„ã€‚", solution:"NFSãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰åŒæ™‚ãƒã‚¦ãƒ³ãƒˆå¯èƒ½ã€‚", antipattern:"EBSï¼ˆå˜ä¸€ã‚¢ã‚¿ãƒƒãƒãƒ»å…±æœ‰ä¸å¯ï¼‰ã€S3ï¼ˆãƒã‚¦ãƒ³ãƒˆä¸å¯ï¼‰ã€‚"},
  {id:20, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Amazon ElastiCache", features:"ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒŸãƒªç§’ä»¥ä¸‹", scenario:"é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹å•†å“ãƒ‡ãƒ¼ã‚¿ã®DBèª­ã¿è¾¼ã¿è² è·ã‚’ä¸‹ã’ãŸã„ã€‚", solution:"Redis/Memcachedã‚’åˆ©ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—å¿œç­”é€Ÿåº¦ã‚’ä¸Šã’ã‚‹ã€‚", antipattern:"DAXï¼ˆDynamoDBå°‚ç”¨ï¼‰ã€CloudFrontï¼ˆé™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”¨ï¼‰ã€‚"},
  {id:21, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"AWS Direct Connect", features:"å°‚ç”¨ç·šæ¥ç¶šãƒ»å®‰å®šé€šä¿¡", scenario:"ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã¨AWSã‚’å®‰å®šã—ãŸå¸¯åŸŸã¨ä½é…å»¶ã§æ¥ç¶šã—ãŸã„ã€‚", solution:"ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’é€šã‚‰ãªã„å°‚ç”¨ç·šã§æ¥ç¶šã™ã‚‹ã€‚", antipattern:"Site-to-Site VPNï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆçµŒç”±ã®ãŸã‚ä¸å®‰å®šï¼‰ã€‚"},
  {id:22, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"EC2 Auto Scaling", features:"éœ€è¦ã«å¿œã˜ãŸå°æ•°å¢—æ¸›", scenario:"Webã‚µãƒ¼ãƒãƒ¼ã®è² è·ã«å¿œã˜ã¦è‡ªå‹•ã§å°æ•°ã‚’å¢—ã‚„ã—ãŸã„ã€‚", solution:"CPUä½¿ç”¨ç‡ãªã©ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°ã‚’è‡ªå‹•å¢—æ¸›ã•ã›ã‚‹ã€‚", antipattern:"æ‰‹å‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼ˆé‹ç”¨è² è·å¤§ãƒ»å¤œé–“ã®å¯¾å¿œä¸å¯ï¼‰ã€‚"},
  {id:23, genre:"ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", service:"AWS Cost Explorer", features:"ã‚³ã‚¹ãƒˆåˆ†æãƒ»äºˆå®Ÿç®¡ç†", scenario:"éå»ã®åˆ©ç”¨æ–™ã‚’åˆ†æã—ã€å°†æ¥ã®ã‚³ã‚¹ãƒˆã‚’äºˆæ¸¬ã—ãŸã„ã€‚", solution:"ã‚°ãƒ©ãƒ•ã§ãƒªã‚½ãƒ¼ã‚¹ã”ã¨ã®ã‚³ã‚¹ãƒˆã‚’å¯è¦–åŒ–ã—ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã€‚", antipattern:"AWS Budgetsï¼ˆäºˆç®—ã‚¢ãƒ©ãƒ¼ãƒˆç”¨ãƒ»è©³ç´°åˆ†æã¯ä¸å¾—æ„ï¼‰ã€‚"},
  {id:24, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"S3 Glacier Deep Archive", features:"æœ€å®‰ä¿ç®¡ãƒ»å–ã‚Šå‡ºã—12æ™‚é–“ä»¥ä¸Š", scenario:"ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’7å¹´é–“ä¿å­˜ã™ã‚‹ãŒã€å–ã‚Šå‡ºã™ã“ã¨ã¯ã»ã¼ãªã„ã€‚", solution:"S3ã®ä¸­ã§æœ€ã‚‚å®‰ä¾¡ãªã‚¯ãƒ©ã‚¹ã€‚å–ã‚Šå‡ºã—ã«12ã€œ48æ™‚é–“ã‹ã‹ã‚‹ã€‚", antipattern:"S3 Standard-IAï¼ˆé »åº¦ãŒä½ã„ãŒå³æ™‚å–ã‚Šå‡ºã—ç”¨ãƒ»ã‚³ã‚¹ãƒˆé«˜ï¼‰ã€‚"},
  {id:25, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Amazon Redshift", features:"DWHãƒ»åˆ—æŒ‡å‘ãƒ»ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿åˆ†æ", scenario:"ãƒšã‚¿ãƒã‚¤ãƒˆç´šã®ãƒ‡ãƒ¼ã‚¿ã‚’é«˜é€Ÿã«é›†è¨ˆãƒ»åˆ†æã—ãŸã„ã€‚", solution:"åˆ—æŒ‡å‘ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨åˆ†æ•£å‡¦ç†ã«ã‚ˆã‚Šå¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®åˆ†æã«ç‰¹åŒ–ã€‚", antipattern:"RDSï¼ˆè¡ŒæŒ‡å‘ã®ãŸã‚é›†è¨ˆã¯é…ã„ï¼‰ã€Athenaï¼ˆS3ç›´æ¥ã‚¯ã‚¨ãƒªç”¨ãƒ»é »ç¹ãªåˆ†æã«ã¯ä¸å‘ãï¼‰ã€‚"},
  {id:26, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"AWS KMS", features:"æš—å·åŒ–ã‚­ãƒ¼ç®¡ç†", scenario:"EBSã‚„S3ã®ãƒ‡ãƒ¼ã‚¿ã‚’æš—å·åŒ–ã—ã€ã‚­ãƒ¼ã®ä½¿ç”¨å±¥æ­´ã‚’ç›£æŸ»ã—ãŸã„ã€‚", solution:"ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ãªéµç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹ã€‚CloudTrailã¨é€£æºã—ã¦ãƒ­ã‚°ãŒæ®‹ã‚‹ã€‚", antipattern:"CloudHSMï¼ˆå°‚ç”¨ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ»ç®¡ç†è² è·ãŒé«˜ã„ï¼‰ã€‚"},
  {id:27, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"Route 53 (Failover)", features:"DNSãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼", scenario:"ãƒ¡ã‚¤ãƒ³ã‚µã‚¤ãƒˆãŒãƒ€ã‚¦ãƒ³ã—ãŸã‚‰è‡ªå‹•ã§Sorryãƒšãƒ¼ã‚¸ï¼ˆS3ï¼‰ã«åˆ‡ã‚Šæ›¿ãˆãŸã„ã€‚", solution:"ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’è¨­å®šã—ã€ç•°å¸¸æ™‚ã«ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’åˆ¥ç³»çµ±ã¸æµã™ã€‚", antipattern:"ELBï¼ˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®æŒ¯ã‚Šåˆ†ã‘ãƒ»ãƒªãƒ¼ã‚¸ãƒ§ãƒ³è·¨ãã¯Route53ï¼‰ã€‚"},
  {id:28, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Step Functions", features:"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†ãƒ»å¯è¦–åŒ–", scenario:"Lambdaã‚„Fargateãªã©è¤‡æ•°ã®å‡¦ç†ã‚’é †åºé€šã‚Šã«å®Ÿè¡Œãƒ»åˆ†å²ã•ã›ãŸã„ã€‚", solution:"ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã—ã€å‡¦ç†ã®æˆåŠŸ/å¤±æ•—ã‚„ãƒªãƒˆãƒ©ã‚¤ã‚’è¦–è¦šçš„ã«ç®¡ç†ã€‚", antipattern:"Lambdaå†…ã§ã®å‘¼ã³å‡ºã—ï¼ˆã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘åŒ–ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒªã‚¹ã‚¯ï¼‰ã€‚"},
  {id:29, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"Placement Group (Cluster)", features:"ä½é…å»¶ãƒ»é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ", scenario:"HPCï¼ˆãƒã‚¤ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰è¨ˆç®—ã®ãŸã‚ã«EC2é–“ã®é€šä¿¡é€Ÿåº¦ã‚’æœ€å¤§åŒ–ã—ãŸã„ã€‚", solution:"å˜ä¸€AZå†…ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç‰©ç†çš„ã«è¿‘ãã«é…ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ—ãƒ¬ã‚¤ã‚¹ãƒ¡ãƒ³ãƒˆã€‚", antipattern:"Spreadï¼ˆåˆ†æ•£é…ç½®ãƒ»è€éšœå®³æ€§é‡è¦–ï¼‰ã€Partitionï¼ˆHadoopç­‰å‘ã‘ï¼‰ã€‚"},
  {id:30, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"AWS Storage Gateway (File)", features:"ã‚ªãƒ³ãƒ—ãƒ¬ã‹ã‚‰ã®S3ã‚¢ã‚¯ã‚»ã‚¹(NFS/SMB)", scenario:"ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã®ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰NFSã§S3ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ãŸã„ã€‚", solution:"ãƒ•ã‚¡ã‚¤ãƒ«ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’è¨­ç½®ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æŒã¡ãªãŒã‚‰S3ã¸é€ã‚‹ã€‚", antipattern:"DataSyncï¼ˆãƒ‡ãƒ¼ã‚¿ç§»è¡Œç”¨ãƒ»å¸¸æ™‚ãƒã‚¦ãƒ³ãƒˆã§ã¯ãªã„ï¼‰ã€‚"},
  {id:31, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"DynamoDB Global Tables", features:"ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»å®Œå…¨åŒæœŸ", scenario:"ä¸–ç•Œä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã§DBæ›¸ãè¾¼ã¿ã‚’æä¾›ã—ãŸã„ã€‚", solution:"è¤‡æ•°ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•çš„ã«åŒæ–¹å‘ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚", antipattern:"RDS Read Replicaï¼ˆæ›¸ãè¾¼ã¿ã¯ãƒ—ãƒ©ã‚¤ãƒãƒªã®ã¿ãƒ»ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é–“ã¯é…å»¶ã‚ã‚Šï¼‰ã€‚"},
  {id:32, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"IAM Access Analyzer", features:"å¤–éƒ¨å…±æœ‰ã®æ¤œçŸ¥", scenario:"S3ãƒã‚±ãƒƒãƒˆãŒæ„å›³ã›ãšå¤–éƒ¨å…¬é–‹ã•ã‚Œã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯ã—ãŸã„ã€‚", solution:"ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒãƒªã‚·ãƒ¼ã‚’åˆ†æã—ã€å¤–éƒ¨ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹ã‚’ç‰¹å®šã™ã‚‹ã€‚", antipattern:"GuardDutyï¼ˆè„…å¨æ¤œçŸ¥ãƒ»è¨­å®šãƒŸã‚¹æ¤œçŸ¥ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:33, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"Transit Gateway", features:"VPCé–“æ¥ç¶šã®ãƒãƒ–ãƒ»ä¸€å…ƒç®¡ç†", scenario:"æ•°åå€‹ã®VPCã¨ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã‚’ç›¸äº’ã«æ¥ç¶šã—ãŸã„ã€‚", solution:"ãƒãƒ–ã‚¢ãƒ³ãƒ‰ã‚¹ãƒãƒ¼ã‚¯æ§‹æˆã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’é›†ç´„ã—ç®¡ç†ã‚’ç°¡ç´ åŒ–ã™ã‚‹ã€‚", antipattern:"VPC Peeringï¼ˆãƒ•ãƒ«ãƒ¡ãƒƒã‚·ãƒ¥æ§‹æˆã«ãªã‚Šç®¡ç†ãŒè¤‡é›‘åŒ–ï¼‰ã€‚"},
  {id:34, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Amazon Kinesis Data Streams", features:"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿åé›†", scenario:"IoTãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®å¤§é‡ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åé›†ãƒ»å‡¦ç†ã—ãŸã„ã€‚", solution:"ã‚·ãƒ£ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã€Lambdaç­‰ã§é †æ¬¡å‡¦ç†ã™ã‚‹ã€‚", antipattern:"SQSï¼ˆé †åºä¿è¨¼ãŒé™å®šçš„ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:35, genre:"ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", service:"AWS Trusted Advisor", features:"ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹è‡ªå‹•ãƒã‚§ãƒƒã‚¯", scenario:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚„ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®æ¨å¥¨äº‹é …ã‚’çŸ¥ã‚ŠãŸã„ã€‚", solution:"AWSç’°å¢ƒã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ã‚³ã‚¹ãƒˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç­‰ã®æ”¹å–„æ¡ˆã‚’æç¤ºã€‚", antipattern:"Configï¼ˆæ§‹æˆå¤‰æ›´ã®è¨˜éŒ²ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç›£è¦–ï¼‰ã€‚"},
  {id:36, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"AWS Batch", features:"ãƒãƒƒãƒå‡¦ç†ã®æœ€é©åŒ–ãƒ»ã‚¹ãƒãƒƒãƒˆæ´»ç”¨", scenario:"æ•°åƒä»¶ã®ãƒãƒƒãƒã‚¸ãƒ§ãƒ–ã‚’åŠ¹ç‡ã‚ˆãã€ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã£ã¦å‡¦ç†ã—ãŸã„ã€‚", solution:"ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ã¨è¨ˆç®—ç’°å¢ƒã‚’ç®¡ç†ã—ã€æœ€é©ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è‡ªå‹•ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã™ã‚‹ã€‚", antipattern:"Lambdaï¼ˆ15åˆ†ã®å®Ÿè¡Œæ™‚é–“åˆ¶é™ãƒ»ãƒ¡ãƒ¢ãƒªåˆ¶é™ï¼‰ã€‚"},
  {id:37, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"EBS Multi-Attach", features:"è¤‡æ•°EC2ã‹ã‚‰ã®åŒæ™‚æ¥ç¶š", scenario:"ã‚¯ãƒ©ã‚¹ã‚¿åŒ–ã•ã‚ŒãŸDBã®ãŸã‚ã«1ã¤ã®EBSã‚’è¤‡æ•°ã®EC2ã§å…±æœ‰ã—ãŸã„ã€‚", solution:"ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ³ãƒ‰IOPSãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ã€åŒä¸€AZå†…ã®è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚¢ã‚¿ãƒƒãƒã€‚", antipattern:"EFSï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ç”¨ãƒ»ãƒ–ãƒ­ãƒƒã‚¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:38, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Aurora Global Database", features:"DRå¯¾ç­–ãƒ»é«˜é€Ÿã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³è¤‡è£½", scenario:"ãƒªãƒ¼ã‚¸ãƒ§ãƒ³è¦æ¨¡ã®ç½å®³æ™‚ã«ã€1ç§’æœªæº€ã§åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¸åˆ‡ã‚Šæ›¿ãˆãŸã„ã€‚", solution:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šã€ä½é…å»¶ã§åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¸è¤‡è£½ãƒ»æ˜‡æ ¼å¯èƒ½ã€‚", antipattern:"RDS Cross-Region Replicaï¼ˆãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é…å»¶ãŒå¤§ãã„ï¼‰ã€‚"},
  {id:39, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"VPC Flow Logs", features:"ENIé€šä¿¡ãƒ­ã‚°ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆ", scenario:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§æ‹’å¦ã•ã‚ŒãŸé€šä¿¡ã‚„ã€é€šä¿¡å†…å®¹ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’èª¿æŸ»ã—ãŸã„ã€‚", solution:"ENIã‚’è¡Œãæ¥ã™ã‚‹IPãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æƒ…å ±ã‚’CloudWatch Logsç­‰ã«ä¿å­˜ã™ã‚‹ã€‚", antipattern:"CloudTrailï¼ˆAPIå‘¼ã³å‡ºã—å±¥æ­´ãƒ»ãƒ‘ã‚±ãƒƒãƒˆã®ä¸­èº«ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:40, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"Amazon GuardDuty", features:"è„…å¨æ¤œçŸ¥ãƒ»æ©Ÿæ¢°å­¦ç¿’", scenario:"AWSç’°å¢ƒã«å¯¾ã™ã‚‹ä¸å¯©ãªé€šä¿¡ã‚„ãƒã‚¤ãƒ‹ãƒ³ã‚°è¡Œç‚ºã‚’æ¤œçŸ¥ã—ãŸã„ã€‚", solution:"VPCãƒ•ãƒ­ãƒ¼ãƒ­ã‚°ã‚„DNSãƒ­ã‚°ã‚’åˆ†æã—ã€AIãŒè„…å¨ã‚’è‡ªå‹•æ¤œçŸ¥ã—ã¦é€šçŸ¥ã™ã‚‹ã€‚", antipattern:"Macieï¼ˆS3å†…ã®æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿æ¤œå‡ºç”¨ï¼‰ã€‚"},
  {id:41, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Amazon SNS", features:"ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ãƒ»ãƒ•ã‚¡ãƒ³ã‚¢ã‚¦ãƒˆ", scenario:"1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ¡ãƒ¼ãƒ«ã€Lambdaã€SQSãªã©è¤‡æ•°ç®‡æ‰€ã«åŒæ™‚ã«é€ã‚ŠãŸã„ã€‚", solution:"ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆã—ã€ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ãƒ—ãƒƒã‚·ãƒ¥é…ä¿¡ã™ã‚‹ã€‚", antipattern:"SQSï¼ˆ1å¯¾1ã®å‡¦ç†ãƒ»ãƒãƒ¼ãƒªãƒ³ã‚°å‹ï¼‰ã€‚"},
  {id:42, genre:"ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", service:"AWS Config", features:"æ§‹æˆå¤‰æ›´å±¥æ­´ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹", scenario:"ã€Œèª°ãŒã„ã¤ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å¤‰æ›´ã—ãŸã‹ã€ã‚’è¿½è·¡ã—ãŸã„ã€‚", solution:"ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®šå¤‰æ›´ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§è¨˜éŒ²ã—ã€ãƒ«ãƒ¼ãƒ«é•åãŒã‚ã‚Œã°æ¤œçŸ¥ã™ã‚‹ã€‚", antipattern:"CloudTrailï¼ˆã€ŒAPIã‚’å©ã„ãŸäº‹å®Ÿã€ã®è¨˜éŒ²ãƒ»å¤‰æ›´å‰å¾Œã®å€¤ã¯è¦‹ã«ãã„ï¼‰ã€‚"},
  {id:43, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"User Data", features:"èµ·å‹•æ™‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆ", scenario:"EC2èµ·å‹•æ™‚ã«Apacheã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨Webãƒšãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’è‡ªå‹•åŒ–ã—ãŸã„ã€‚", solution:"èµ·å‹•æ™‚ã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨­å®šã™ã‚‹ã€‚", antipattern:"Cronï¼ˆå®šæœŸå®Ÿè¡Œç”¨ï¼‰ã€AMIï¼ˆOSã‚¤ãƒ¡ãƒ¼ã‚¸è‡ªä½“ã®ä½œæˆï¼‰ã€‚"},
  {id:44, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"Amazon S3 Lifecycle Policy", features:"è‡ªå‹•å‰Šé™¤ãƒ»ã‚¯ãƒ©ã‚¹ç§»å‹•", scenario:"ä½œæˆã‹ã‚‰30æ—¥å¾Œã«Glacierã¸ç§»å‹•ã—ã€1å¹´å¾Œã«å‰Šé™¤ã—ãŸã„ã€‚", solution:"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç§»å‹•ã‚„å‰Šé™¤ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã€‚", antipattern:"Lambdaã§ã®å®šæœŸå®Ÿè¡Œï¼ˆã‚³ã‚¹ãƒˆã¨ç®¡ç†ã®æ‰‹é–“ãŒã‹ã‹ã‚‹ï¼‰ã€‚"},
  {id:45, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"DynamoDB Streams", features:"DBå¤‰æ›´ãƒˆãƒªã‚¬ãƒ¼", scenario:"DBã«ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚ŒãŸã‚‰ã€å³åº§ã«Lambdaã‚’èµ·å‹•ã—ã¦åŠ å·¥ã—ãŸã„ã€‚", solution:"ãƒ†ãƒ¼ãƒ–ãƒ«ã®å¤‰æ›´å±¥æ­´ï¼ˆè¿½åŠ ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰ã‚’æ™‚ç³»åˆ—ã§ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹ã€‚", antipattern:"Kinesisï¼ˆã‚¢ãƒ—ãƒªå´ã§æ›¸ãè¾¼ã¿ãŒå¿…è¦ï¼‰ã€‚"},
  {id:46, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"Route 53 (Geolocation)", features:"åœ°ç†çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", scenario:"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å›½ã«åˆã‚ã›ã¦ã€æ—¥æœ¬èªç‰ˆã¾ãŸã¯è‹±èªç‰ˆã®ã‚µãƒ¼ãƒãƒ¼ã«èª˜å°ã—ãŸã„ã€‚", solution:"ã‚¢ã‚¯ã‚»ã‚¹å…ƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«åŸºã¥ã„ã¦ã€ç‰¹å®šã®åœ°åŸŸã®ã‚µãƒ¼ãƒãƒ¼ã¸DNSè§£æ±ºã™ã‚‹ã€‚", antipattern:"Latency Routingï¼ˆé…å»¶ãŒæœ€å°ã®å ´æ‰€ã¸ãƒ»å›½å˜ä½ã§ã¯ãªã„ï¼‰ã€‚"},
  {id:47, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"Amazon Cognito", features:"èªè¨¼ãƒ»èªå¯ãƒ»SSO", scenario:"Webã‚¢ãƒ—ãƒªã«Facebookãƒ­ã‚°ã‚¤ãƒ³ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã„ã€‚", solution:"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ¼ãƒ«ã§IDç®¡ç†ã‚’è¡Œã„ã€IDãƒ—ãƒ¼ãƒ«ã§AWSãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸ã™ã‚‹ã€‚", antipattern:"IAM Usersï¼ˆã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã«ã¯ä½¿ã‚ãªã„ï¼‰ã€‚"},
  {id:48, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"AWS AppSync", features:"GraphQLãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°", scenario:"ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸã‚„ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’å–å¾—ã—ãŸã„ã€‚", solution:"GraphQLã‚’ä½¿ç”¨ã—ã¦ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æŒ‡å®šã—ã¦å–å¾—ã§ãã‚‹ã€‚", antipattern:"API Gatewayï¼ˆREST APIãƒ»ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚§ãƒƒãƒãŒç™ºç”Ÿã—ã‚„ã™ã„ï¼‰ã€‚"},
  {id:49, genre:"ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", service:"AWS Systems Manager Session Manager", features:"SSHä¸è¦ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶æ¥ç¶š", scenario:"SSHãƒãƒ¼ãƒˆ(22)ã‚’é–‹ã‘ãšã«ã€å®‰å…¨ã«EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸æ¥ç¶šã—ãŸã„ã€‚", solution:"IAMæ¨©é™ã®ã¿ã§æ¥ç¶šã§ãã€æ“ä½œãƒ­ã‚°ã‚‚S3/CloudWatchã«ä¿å­˜ã•ã‚Œã‚‹ã€‚", antipattern:"Bastion Hostï¼ˆè¸ã¿å°ã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†ãƒ»ãƒãƒ¼ãƒˆé–‹æ”¾ãŒå¿…è¦ï¼‰ã€‚"},
  {id:50, genre:"ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ", service:"AWS Backup (Cross-Region)", features:"ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€å…ƒç®¡ç†ãƒ»é éš”åœ°ã‚³ãƒ”ãƒ¼", scenario:"ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è¦ä»¶ã§EC2/RDSã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’åˆ¥ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«ä¿ç®¡ã—ãŸã„ã€‚", solution:"AWS Backupã§ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã—ã€ã‚¯ãƒ­ã‚¹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚³ãƒ”ãƒ¼ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã€‚", antipattern:"æ‰‹å‹•ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼ˆé‹ç”¨è² è·å¤§ãƒ»ã‚³ãƒ”ãƒ¼æ¼ã‚Œã®ãƒªã‚¹ã‚¯ï¼‰ã€‚"},
  {id:51, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"EC2 IAM Role for SSM", features:"EC2ã‹ã‚‰ã®å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹", scenario:"EC2ã‹ã‚‰DBãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰(æš—å·åŒ–)ã‚’å–å¾—ã—ãŸã„ãŒã€ã‚³ãƒ¼ãƒ‰ã«ã‚­ãƒ¼ã‚’æ›¸ããŸããªã„ã€‚", solution:"IAMãƒ­ãƒ¼ãƒ«ã‚’EC2ã«ä»˜ä¸ã—ã€Parameter Storeã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’æŒãŸã›ã‚‹ã€‚", antipattern:"ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã®åŸ‹ã‚è¾¼ã¿ï¼ˆæ¼æ´©ãƒªã‚¹ã‚¯ãƒ»ç®¡ç†è² è·ï¼‰ã€‚"},
  {id:52, genre:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", service:"WAF + Shield + NLB", features:"å¤šå±¤é˜²å¾¡ãƒ»DDoSå¯¾ç­–", scenario:"APIåŸºç›¤ã«å¯¾ã—ã€DDoSæ”»æ’ƒã¨SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸¡æ–¹ã‚’é˜²ããŸã„ã€‚", solution:"NLBã«Shieldã‚’é©ç”¨(DDoS)ã€API Gatewayã«WAFã‚’é©ç”¨(Webæ”»æ’ƒ)ã™ã‚‹ã€‚", antipattern:"NLBã«WAFï¼ˆé©ç”¨ä¸å¯ï¼‰ã€WAFã®ã¿ï¼ˆå¤§è¦æ¨¡DDoSã«å¼±ã„ï¼‰ã€‚"},
  {id:53, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Microservices Decoupling (SQS)", features:"ç–çµåˆãƒ»ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°", scenario:"å—ä¿¡å´ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã§ã‚‚é€ä¿¡å´ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã„ã€‚", solution:"SQSã‚’é–“ã«æŒŸã¿ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿æŒã™ã‚‹ã“ã¨ã§ä¾å­˜é–¢ä¿‚ã‚’åˆ‡ã‚Šé›¢ã™ã€‚", antipattern:"SNSï¼ˆç›¸æ‰‹ãŒãƒ€ã‚¦ãƒ³ã—ã¦ã‚‹ã¨æ¶ˆãˆã‚‹ï¼‰ã€Lambdaï¼ˆãƒãƒƒãƒ•ã‚¡æ©Ÿèƒ½ãªã—ï¼‰ã€‚"},
  {id:54, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"RDS Multi-AZ", features:"é«˜å¯ç”¨æ€§ãƒ»è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼", scenario:"æœ¬ç•ªDBã®éšœå®³æ™‚ã«ã€IPå¤‰æ›´ãªã—ã§è‡ªå‹•çš„ã«äºˆå‚™æ©Ÿã¸åˆ‡ã‚Šæ›¿ãˆãŸã„ã€‚", solution:"åŒæœŸãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸã‚¹ã‚¿ãƒ³ãƒã‚¤æ©Ÿã¸DNSãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã™ã‚‹ã€‚", antipattern:"Read Replicaï¼ˆæ‰‹å‹•æ˜‡æ ¼ãŒå¿…è¦ãƒ»éåŒæœŸã§ãƒ‡ãƒ¼ã‚¿æ¬ æãƒªã‚¹ã‚¯ï¼‰ã€‚"},
  {id:55, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Serverless Web App (S3+Lambda+DDB)", features:"å®Œå…¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ»ç®¡ç†ã‚¼ãƒ­", scenario:"ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã‚’ä¸€åˆ‡ã›ãšã€ã‚¢ã‚¯ã‚»ã‚¹æ•°ã«å¿œã˜ã¦å‹æ‰‹ã«ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹Webã‚¢ãƒ—ãƒªã€‚", solution:"é™çš„è³‡ç”£ã¯S3ã€ãƒ­ã‚¸ãƒƒã‚¯ã¯Lambdaã€DBã¯DynamoDBã§æ§‹æˆã™ã‚‹ã€‚", antipattern:"EC2 + RDSï¼ˆOSç®¡ç†ãƒ»ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨­å®šãŒå¿…è¦ï¼‰ã€‚"},
  {id:56, genre:"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", service:"Security Group for Direct Connect", features:"ã‚ªãƒ³ãƒ—ãƒ¬ã‹ã‚‰ã®é€šä¿¡åˆ¶å¾¡", scenario:"Direct ConnectçµŒç”±ã®ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹IPã‹ã‚‰ã®ã¿ã€ç‰¹å®šã®EC2ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ãŸã„ã€‚", solution:"EC2ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§ã€ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã®CIDRç¯„å›²ã‚’è¨±å¯ã™ã‚‹ã€‚", antipattern:"NACï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ã§ç®¡ç†è¤‡é›‘ï¼‰ã€VPNè¿½åŠ ï¼ˆä¸è¦ï¼‰ã€‚"},
  {id:57, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"ECS Task Role", features:"ã‚¿ã‚¹ã‚¯å˜ä½ã®æ¨©é™ç®¡ç†", scenario:"ECSä¸Šã®ã‚³ãƒ³ãƒ†ãƒŠAã¯S3å¯ã€ã‚³ãƒ³ãƒ†ãƒŠBã¯ä¸å¯ã€ã¨æ¨©é™ã‚’åˆ†ã‘ãŸã„ã€‚", solution:"ã€Œã‚¿ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€ã‚’ä½¿ç”¨ã—ã€ã‚³ãƒ³ãƒ†ãƒŠï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã”ã¨ã«IAMãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã€‚", antipattern:"å®Ÿè¡Œãƒ­ãƒ¼ãƒ«ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ï¼‰ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ›ã‚¹ãƒˆå…¨ä½“ç”¨ï¼‰ã€‚"},
  {id:58, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"FSx for Windows File Server", features:"Windowså…±æœ‰ãƒ»ADçµ±åˆ", scenario:"Windowsã‚µãƒ¼ãƒãƒ¼ç¾¤ã§å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã„ã€ADã®æ¨©é™è¨­å®šã‚’ç¶­æŒã—ãŸã„ã€‚", solution:"Windowsãƒã‚¤ãƒ†ã‚£ãƒ–ãªFSxã‚’ä½¿ç”¨ã—ã€Active Directoryã¨é€£æºã™ã‚‹ã€‚", antipattern:"EFSï¼ˆWindowséå¯¾å¿œï¼‰ã€S3ï¼ˆACLç®¡ç†ãŒADã¨ç•°ãªã‚‹ï¼‰ã€‚"},
  {id:59, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"Fargate + RDS Multi-AZ", features:"ã‚³ãƒ³ãƒ†ãƒŠÃ—DBã®ç®¡ç†ãƒ¬ã‚¹HA", scenario:"ã‚³ãƒ³ãƒ†ãƒŠã¨DBã®å¯ç”¨æ€§ã‚’é«˜ã‚ãŸã„ãŒã€OSç®¡ç†ã‚„ãƒ‘ãƒƒãƒå½“ã¦ã¯ã—ãŸããªã„ã€‚", solution:"Fargateã§ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ã‚’æ’é™¤ã—ã€RDS Multi-AZã§DBé‹ç”¨ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã€‚", antipattern:"EC2èµ·å‹•ã‚¿ã‚¤ãƒ—ï¼ˆOSç®¡ç†ã‚ã‚Šï¼‰ã€RDSã‚·ãƒ³ã‚°ãƒ«AZï¼ˆHAãªã—ï¼‰ã€‚"},
  {id:60, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"AWS Transfer Family", features:"SFTPã®S3åŒ–ãƒ»ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹", scenario:"å–å¼•å…ˆãŒSFTPã§ã®ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ã‚’æ±‚ã‚ã¦ã„ã‚‹ãŒã€ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ã¯ã—ãŸããªã„ã€‚", solution:"Transfer Familyã‚’ä½¿ã„ã€S3ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã—ãŸSFTPã‚µãƒ¼ãƒãƒ¼ã‚’æä¾›ã™ã‚‹ã€‚", antipattern:"S3 File Gatewayï¼ˆSFTPéå¯¾å¿œï¼‰ã€EC2ã§æ§‹ç¯‰ï¼ˆç®¡ç†è² è·ï¼‰ã€‚"},
  {id:61, genre:"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", service:"S3 Object Lock Compliance", features:"æ³•çš„ä¿å­˜ãƒ»å®Œå…¨å‰Šé™¤ä¸å¯", scenario:"ç›£æŸ»ãƒ‡ãƒ¼ã‚¿ã‚’7å¹´é–“ã€ãƒ«ãƒ¼ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å«ã‚èª°ã«ã‚‚å‰Šé™¤ã•ã›ãªã„ã€‚", solution:"ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã€ä¿æŒæœŸé–“ä¸­ã®å‰Šé™¤ãƒ»å¤‰æ›´ã‚’å®Œå…¨ã«é˜²ãã€‚", antipattern:"ã‚¬ãƒãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å‰Šé™¤å¯ï¼‰ã€IAMãƒãƒªã‚·ãƒ¼ï¼ˆå¤‰æ›´å¯ï¼‰ã€‚"},
  {id:62, genre:"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°", service:"Elastic Beanstalk (Blue/Green)", features:"PaaSãƒ»ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ãƒ‡ãƒ—ãƒ­ã‚¤", scenario:"ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ãªã—ã§Webã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã—ã€ç„¡åœæ­¢ã§æ–°ç‰ˆã¸åˆ‡ã‚Šæ›¿ãˆãŸã„ã€‚", solution:"æ–°ã—ã„ç’°å¢ƒ(Green)ã‚’ä½œæˆã—ã€CNAME(URL)ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã“ã¨ã§ç¬æ™‚ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã€‚", antipattern:"EC2æ‰‹å‹•æ§‹ç¯‰ï¼ˆæ‰‹é–“ï¼‰ã€Rolling Updateï¼ˆä¸€æ™‚çš„ã«æ€§èƒ½ä½ä¸‹ï¼‰ã€‚"},
  {id:63, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Aurora Read Replica", features:"èª­ã¿å–ã‚Šè² è·åˆ†é›¢", scenario:"åˆ†æã‚¯ã‚¨ãƒªã®ã›ã„ã§ã€ECã‚µã‚¤ãƒˆã®æ³¨æ–‡å‡¦ç†ï¼ˆæ›¸ãè¾¼ã¿ï¼‰ãŒé…ããªã£ã¦ã„ã‚‹ã€‚", solution:"ãƒªãƒ¼ãƒ‰ãƒ¬ãƒ—ãƒªã‚«ã‚’ä½œæˆã—ã€èª­ã¿å–ã‚Šå°‚ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸åˆ†æã‚¯ã‚¨ãƒªã‚’æµã™ã€‚", antipattern:"Redshiftï¼ˆç§»è¡Œã‚³ã‚¹ãƒˆå¤§ï¼‰ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚µã‚¤ã‚ºã‚¢ãƒƒãƒ—ï¼ˆæ ¹æœ¬è§£æ±ºã«ãªã‚‰ãªã„ï¼‰ã€‚"},
  {id:64, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"Textract + Athena", features:"ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹OCRãƒ»åˆ†æ", scenario:"å¤§é‡ã®æ›¸é¡ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ä¸­èº«ã®æ–‡å­—ãƒ‡ãƒ¼ã‚¿ã‚’SQLã§åˆ†æã—ãŸã„ã€‚", solution:"Textractã§æ–‡å­—æŠ½å‡ºã—S3ã¸ä¿å­˜ã€Athenaã§ç›´æ¥ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹ã€‚", antipattern:"Rekognitionï¼ˆç”»åƒèªè­˜ç”¨ï¼‰ã€SageMakerï¼ˆé–‹ç™ºã‚³ã‚¹ãƒˆå¤§ï¼‰ã€‚"},
  {id:65, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"RDS Read Replica vs ElastiCache", features:"èª­ã¿å–ã‚Šåˆ†æ•£ vs ã‚­ãƒ£ãƒƒã‚·ãƒ¥", scenario:"ã€Œè¤‡é›‘ãªæ¤œç´¢ã‚¯ã‚¨ãƒªã€ã«ã‚ˆã‚‹DBè² è·ã‚’ä¸‹ã’ãŸã„ã€‚", solution:"åŒã˜ã‚¯ã‚¨ãƒªã®ç¹°ã‚Šè¿”ã—ã§ã¯ãªã„ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã¯ãªããƒªãƒ¼ãƒ‰ãƒ¬ãƒ—ãƒªã‚«ã§åˆ†æ•£ã™ã‚‹ã€‚", antipattern:"ElastiCacheï¼ˆå˜ç´”ãªã‚­ãƒ¼ãƒ»ãƒãƒªãƒ¥ãƒ¼å–å¾—ã«æœ‰åŠ¹ï¼‰ã€DNSã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆç„¡é–¢ä¿‚ï¼‰ã€‚"},
  {id:66, genre:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", service:"Multi-AZ vs Multi-Region", features:"é«˜å¯ç”¨æ€§ vs ç½å®³å¯¾ç­–(DR)", scenario:"ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼éšœå®³ã«è€ãˆã‚‰ã‚Œã‚Œã°è‰¯ã„ï¼ˆé«˜å¯ç”¨æ€§ï¼‰è¦ä»¶ã¸ã®å¯¾å¿œã€‚", solution:"Multi-AZï¼ˆåŒæœŸãƒ»åŒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰æ§‹æˆã‚’ã¨ã‚‹ã€‚", antipattern:"Multi-Regionï¼ˆDRç”¨ãƒ»ã‚³ã‚¹ãƒˆé«˜ãƒ»é…å»¶ã‚ã‚Šï¼‰ã€‚"},
  {id:67, genre:"ã‚¢ãƒ—ãƒªçµ±åˆ", service:"SQS (Buffering)", features:"è€éšœå®³æ€§ãƒ»ã‚¹ãƒ‘ã‚¤ã‚¯å¸å", scenario:"ECã‚µã‚¤ãƒˆã§æ³¨æ–‡ãŒæ®ºåˆ°ã—ã¦ã‚‚ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ€ã‚¦ãƒ³ã•ã›ãšå‡¦ç†ã—ãŸã„ã€‚", solution:"SQSã§æ³¨æ–‡ã‚’å—ã‘æ­¢ã‚ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå‡¦ç†ã§ãã‚‹ãƒšãƒ¼ã‚¹ã§å–ã‚Šå‡ºã™ã€‚", antipattern:"SNSï¼ˆæµé‡åˆ¶å¾¡ã§ããªã„ï¼‰ã€Lambdaç›´æ¥èµ·å‹•ï¼ˆåŒæ™‚å®Ÿè¡Œæ•°åˆ¶é™ï¼‰ã€‚"}
];

let appState = { mode: '', questions: [], currentIndex: 0, correctCount: 0, wrongList: [], isEndless: false };

function showScreen(screenId) {
  document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
  document.getElementById(screenId).classList.add('active');
  const quitBtn = document.getElementById('quitBtn');
  if(screenId === 'quizScreen') quitBtn.classList.remove('hidden');
  else quitBtn.classList.add('hidden');
}
function goHome() { showScreen('homeScreen'); }

function startCourse(mode) {
  appState.mode = mode;
  appState.currentIndex = 0;
  appState.correctCount = 0;
  appState.wrongList = [];
  appState.isEndless = (mode === 'endless');
  let shuffled = shuffle([...fullQuizData]);
  if (mode === 'short') { appState.questions = shuffled.slice(0, 15); }
  else if (mode === 'mock') { appState.questions = shuffled.slice(0, 30); }
  else if (mode === 'all') { appState.questions = shuffled; }
  else if (mode === 'endless') { appState.questions = shuffled; }
  showScreen('quizScreen');
  renderQuestion();
}

function renderQuestion() {
  const q = appState.questions[appState.currentIndex];
  document.getElementById('feedbackArea').style.display = 'none';
  document.getElementById('nextBtn').classList.add('hidden');
  document.getElementById('finishBtn').classList.add('hidden');
  document.getElementById('optionsList').innerHTML = '';
  document.getElementById('genreTag').innerText = q.genre || "General";
  let total = appState.questions.length;
  let current = appState.currentIndex + 1;
  let pct = (current / total) * 100;
  if (appState.isEndless) {
    document.getElementById('questionCount').innerText = `Q. ${current} (Endless)`;
    document.getElementById('progressBar').style.width = '100%';
  } else {
    document.getElementById('questionCount').innerText = `Q. ${current} / ${total}`;
    document.getElementById('progressBar').style.width = `${pct}%`;
  }
  document.getElementById('scorePreview').innerText = `Score: ${appState.correctCount}`;
  document.getElementById('questionText').innerText = q.scenario;
  let options = [{ text: q.service, isCorrect: true }];
  let distractors = fullQuizData.filter(d => d.id !== q.id);
  shuffle(distractors);
  distractors.slice(0, 3).forEach(d => options.push({ text: d.service, isCorrect: false }));
  shuffle(options);
  const list = document.getElementById('optionsList');
  options.forEach((opt, idx) => {
    const btn = document.createElement('div');
    btn.className = 'option-btn';
    btn.innerHTML = `<span style="font-weight:bold; margin-right:10px;">${String.fromCharCode(65+idx)}.</span> ${opt.text}`;
    btn.onclick = () => checkAnswer(btn, opt, q);
    list.appendChild(btn);
  });
}

function checkAnswer(btn, option, qData) {
  if (document.querySelector('.option-btn.correct') || document.querySelector('.option-btn.wrong')) return;
  const feedback = document.getElementById('feedbackArea');
  const title = feedback.querySelector('.feedback-title');
  const detail = document.getElementById('feedbackDetail');
  const allBtns = document.querySelectorAll('.option-btn');
  allBtns.forEach(b => { if(b.innerText.includes(qData.service)) b.classList.add('correct'); });
  if (option.isCorrect) {
    appState.correctCount++;
    title.innerText = "âœ… æ­£è§£ï¼"; title.style.color = "#2e7d32";
    feedback.style.backgroundColor = "#f1f8e9"; feedback.style.borderColor = "#c8e6c9";
  } else {
    btn.classList.add('wrong'); appState.wrongList.push(qData);
    title.innerText = "âŒ ä¸æ­£è§£..."; title.style.color = "#c62828";
    feedback.style.backgroundColor = "#ffebee"; feedback.style.borderColor = "#ffcdd2";
  }
  detail.innerHTML = `<div style="font-size:12px; color:#555; margin-bottom:5px;">ğŸ’¡ ${qData.features}</div><strong>è§£èª¬:</strong> ${qData.solution}<br><div style="margin-top:8px; color:#d32f2f; font-size:13px;">âš ï¸ <strong>æ³¨æ„ç‚¹:</strong> ${qData.antipattern}</div>`;
  feedback.style.display = 'block';
  feedback.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  if (appState.isEndless) { document.getElementById('nextBtn').classList.remove('hidden'); }
  else {
    if (appState.currentIndex < appState.questions.length - 1) { document.getElementById('nextBtn').classList.remove('hidden'); }
    else { document.getElementById('finishBtn').classList.remove('hidden'); }
  }
}

function nextQuestion() {
  appState.currentIndex++;
  if (appState.isEndless && appState.currentIndex >= appState.questions.length) {
    shuffle(appState.questions); appState.currentIndex = 0;
  }
  renderQuestion();
}

function confirmQuit() { if(confirm("å­¦ç¿’ã‚’ä¸­æ–­ã—ã¦çµæœã‚’è¦‹ã¾ã™ã‹ï¼Ÿ")) { finishQuiz(); } }

function finishQuiz() {
  showScreen('resultScreen');
  let totalAnswered = appState.currentIndex + 1;
  if (!document.getElementById('feedbackArea').style.display) { totalAnswered = Math.max(0, totalAnswered - 1); }
  if (!appState.isEndless && totalAnswered > appState.questions.length) { totalAnswered = appState.questions.length; }
  let pct = 0; if(totalAnswered > 0) { pct = Math.round((appState.correctCount / totalAnswered) * 100); }
  document.getElementById('finalScore').innerText = pct;
  let msg = "Keep Going!";
  if(pct >= 90) msg = "Excellent!"; else if(pct >= 70) msg = "Good Job!"; else if(pct >= 50) msg = "Nice Try!";
  document.getElementById('resultMessage').innerText = msg;
  setTimeout(() => {
    document.getElementById('resultGraph').style.width = `${pct}%`;
    document.getElementById('resultGraphText').innerText = `${appState.correctCount} / ${totalAnswered} å•æ­£è§£`;
  }, 300);
  const reviewDiv = document.getElementById('reviewSection');
  const reviewList = document.getElementById('reviewList');
  reviewList.innerHTML = '';
  if (appState.wrongList.length > 0) {
    reviewDiv.classList.remove('hidden');
    appState.wrongList.forEach(q => {
      const item = document.createElement('div');
      item.className = 'review-item';
      item.innerHTML = `<div style="font-weight:bold; margin-bottom:5px; color:#c62828;">Q. ${q.scenario}</div><div style="color:#2e7d32; font-size:13px;">âœ… ${q.service}</div><div style="color:#666; font-size:12px; margin-top:2px;">${q.solution}</div>`;
      reviewList.appendChild(item);
    });
  } else { reviewDiv.classList.add('hidden'); }
}

function shuffle(array) { for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; } return array; }
</script>
</body>
</html>